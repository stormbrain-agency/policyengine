- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T10:18:31.397996'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T10:27:20.739507'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T10:27:36.887782'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T10:28:07.573233'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T10:28:34.990886'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T10:33:17.599793'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T10:33:33.121184'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T10:33:57.924651'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T10:34:16.190585'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T14:40:15.464864'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T14:40:35.490694'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T14:41:05.609777'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T14:41:26.401296'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T14:43:34.137405'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T14:44:02.485185'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T14:44:29.482208'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T14:44:56.050438'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T14:54:11.219172'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T14:54:27.644688'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T14:55:14.852231'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T14:55:33.934486'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T15:01:47.440710'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T15:02:01.974369'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T15:02:26.739461'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T15:02:46.903521'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T15:05:31.216300'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T15:05:46.310418'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T15:06:23.520910'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T15:06:53.979601'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T15:15:32.692523'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T15:15:52.000987'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T15:16:13.797544'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T15:16:42.983932'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T16:01:03.339683'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T16:01:14.926420'
- endpoint: calculate
  event: endpoint_call
  time: 0.029864788055419922
- endpoint: calculate
  event: endpoint_call
  time: 0.016054868698120117
- endpoint: population_reform
  event: endpoint_call
  time: 0.007609844207763672
- endpoint: population_reform
  error: The dataset file enhanced_frs (with year 2022) could not be found. Make sure
    you have downloaded or built it using the `policyengine-core data` command.
  event: task_error
  full_trace: "Traceback (most recent call last):\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 181, in build_from_dataset\n    data = self.dataset.load(self.dataset_year)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/data/dataset.py\"\
    , line 126, in load\n    return h5py.File(file, mode=mode)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/h5py/_hl/files.py\"\
    , line 533, in __init__\n    fid = make_fid(name, mode, userblock_size, fapl,\
    \ fcpl, swmr=swmr)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/h5py/_hl/files.py\"\
    , line 226, in make_fid\n    fid = h5f.open(name, flags, fapl=fapl)\n  File \"\
    h5py/_objects.pyx\", line 54, in h5py._objects.with_phil.wrapper\n  File \"h5py/_objects.pyx\"\
    , line 55, in h5py._objects.with_phil.wrapper\n  File \"h5py/h5f.pyx\", line 106,\
    \ in h5py.h5f.open\nFileNotFoundError: [Errno 2] Unable to open file (unable to\
    \ open file: name = '/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_uk/data/storage/enhanced_frs_2022.h5',\
    \ errno = 2, error message = 'No such file or directory', flags = 0, o_flags =\
    \ 0)\n\nThe above exception was the direct cause of the following exception:\n\
    \nTraceback (most recent call last):\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/country/country.py\"\
    , line 149, in create_microsimulations\n    reform=self.default_reform, dataset=self.dataset\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 131, in __init__\n    self.build_from_dataset()\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 186, in build_from_dataset\n    ) from e\nFileNotFoundError: The dataset\
    \ file enhanced_frs (with year 2022) could not be found. Make sure you have downloaded\
    \ or built it using the `policyengine-core data` command.\n\nDuring handling of\
    \ the above exception, another exception occurred:\n\nTraceback (most recent call\
    \ last):\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 181, in build_from_dataset\n    data = self.dataset.load(self.dataset_year)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/data/dataset.py\"\
    , line 126, in load\n    return h5py.File(file, mode=mode)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/h5py/_hl/files.py\"\
    , line 533, in __init__\n    fid = make_fid(name, mode, userblock_size, fapl,\
    \ fcpl, swmr=swmr)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/h5py/_hl/files.py\"\
    , line 226, in make_fid\n    fid = h5f.open(name, flags, fapl=fapl)\n  File \"\
    h5py/_objects.pyx\", line 54, in h5py._objects.with_phil.wrapper\n  File \"h5py/_objects.pyx\"\
    , line 55, in h5py._objects.with_phil.wrapper\n  File \"h5py/h5f.pyx\", line 106,\
    \ in h5py.h5f.open\nFileNotFoundError: [Errno 2] Unable to open file (unable to\
    \ open file: name = '/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_uk/data/storage/enhanced_frs_2022.h5',\
    \ errno = 2, error message = 'No such file or directory', flags = 0, o_flags =\
    \ 0)\n\nThe above exception was the direct cause of the following exception:\n\
    \nTraceback (most recent call last):\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/web_server/cache.py\"\
    , line 169, in execute\n    result = self.task(params=self.params, **self.kwargs)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/country/country.py\"\
    , line 339, in population_reform\n    baseline, reformed = self.create_microsimulations(params)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/country/uk/uk.py\"\
    , line 59, in create_microsimulations\n    baseline, reformed = super().create_microsimulations(parameters)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/country/country.py\"\
    , line 157, in create_microsimulations\n    reform=self.default_reform, dataset=self.dataset\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 131, in __init__\n    self.build_from_dataset()\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 186, in build_from_dataset\n    ) from e\nFileNotFoundError: The dataset\
    \ file enhanced_frs (with year 2022) could not be found. Make sure you have downloaded\
    \ or built it using the `policyengine-core data` command.\n"
  time: '2022-12-22T16:01:16.935470'
- cache_key: population_reform-ec26424e79babeb567c339cad4ada9d8-1.126.1
  endpoint: population_reform
  event: endpoint_thread_completion
  time: 1.9190571308135986
- endpoint: population_reform
  event: endpoint_call
  time: 0.00026488304138183594
- endpoint: population_reform
  event: endpoint_call
  time: 0.006597995758056641
- endpoint: population_reform
  event: endpoint_call
  time: 0.00016307830810546875
- endpoint: population_reform
  event: endpoint_call
  time: 0.00013494491577148438
- endpoint: population_reform
  error: Missing attribute 'value_type' in definition of variable 'spm_unit_benefits'.
  event: task_error
  full_trace: "Traceback (most recent call last):\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/web_server/cache.py\"\
    , line 169, in execute\n    result = self.task(params=self.params, **self.kwargs)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/country/country.py\"\
    , line 341, in population_reform\n    baseline, reformed, self.results_config\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/impact/population/charts/decile.py\"\
    , line 60, in decile_chart\n    config.household_net_income_variable\n  File \"\
    /Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/household/income/spm_unit/spm_unit_net_income.py\"\
    , line 14, in formula\n    taxes = spm_unit(\"spm_unit_taxes\", period)\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/household/expense/tax/spm_unit_federal_tax.py\"\
    , line 12, in formula\n    return sum_contained_tax_units(\"income_tax\", spm_unit,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/tools/general.py\"\
    , line 27, in sum_contained_tax_units\n    values = tax_unit(var, period)\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 685, in _run_formula\n    array = formula(population, period)\n  File \"\
    /Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/tools/general.py\"\
    , line 46, in <lambda>\n    variable_cls.__name__, period\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/tax/federal_income/income_tax.py\"\
    , line 14, in formula\n    \"income_tax_before_refundable_credits\", period\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/tax/federal_income/income_tax_before_refundable_credits.py\"\
    , line 13, in formula\n    income_tax_bc = tax_unit(\"income_tax_before_credits\"\
    , period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 685, in _run_formula\n    array = formula(population, period)\n  File \"\
    /Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/tools/general.py\"\
    , line 46, in <lambda>\n    variable_cls.__name__, period\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 685, in _run_formula\n    array = formula(population, period)\n  File \"\
    /Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/tools/general.py\"\
    , line 46, in <lambda>\n    variable_cls.__name__, period\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/tax/federal_income/before_credits/income_tax_main_rates.py\"\
    , line 25, in formula\n    full_taxable_income = tax_unit(\"taxable_income\",\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/income/taxable_income/taxable_income.py\"\
    , line 13, in formula\n    deductions = tax_unit(\"taxable_income_deductions\"\
    , period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/income/taxable_income/deductions/taxable_income_deductions.py\"\
    , line 14, in formula\n    \"taxable_income_deductions_if_itemizing\", period\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/income/taxable_income/deductions/itemizing/salt_deduction.py\"\
    , line 17, in formula\n    [\"state_and_local_sales_or_income_tax\", \"real_estate_taxes\"\
    ],\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/taxcalc/deductions/itemized/state_and_local_sales_or_income_tax.py\"\
    , line 14, in formula\n    tax_unit, period, [\"state_income_tax\", \"local_income_tax\"\
    ]\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/states/ny/tax/income/ny_income_tax.py\"\
    , line 19, in formula\n    refundable_credits = add(tax_unit, period, refundable)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/states/ny/tax/income/credits/ctc/ny_ctc.py\"\
    , line 27, in formula\n    federal_match = tax_unit(\"ny_federal_ctc\", period)\
    \ * p.amount.percent\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/states/ny/tax/income/credits/ctc/ny_federal_actc.py\"\
    , line 67, in formula\n    limiting_tax = tax_unit(\"ctc_limiting_tax_liability\"\
    , period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/credits/ctc/ctc_limiting_tax_liability.py\"\
    , line 14, in formula\n    no_salt_branch = simulation.get_branch(\"no_salt\"\
    )\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 984, in get_branch\n    branch = self.clone()\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 966, in clone\n    new.tax_benefit_system = self.tax_benefit_system.clone()\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/taxbenefitsystems/tax_benefit_system.py\"\
    , line 613, in clone\n    for variable_name, variable in self.variables.items()\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/taxbenefitsystems/tax_benefit_system.py\"\
    , line 613, in <dictcomp>\n    for variable_name, variable in self.variables.items()\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/variables/variable.py\"\
    , line 515, in clone\n    clone = self.__class__()\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/variables/variable.py\"\
    , line 136, in __init__\n    allowed_values=config.VALUE_TYPES.keys(),\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/variables/variable.py\"\
    , line 279, in set\n    attribute_name, self.name\nValueError: Missing attribute\
    \ 'value_type' in definition of variable 'spm_unit_benefits'.\n"
  time: '2022-12-22T16:01:32.910451'
- cache_key: population_reform-31ebd0d7853f96a5995a89f1e565d4de-1.126.1
  endpoint: population_reform
  event: endpoint_thread_completion
  time: 12.070509195327759
- endpoint: population_reform
  event: endpoint_call
  time: 0.0006010532379150391
- endpoint: population_reform
  event: endpoint_call
  time: 0.0067729949951171875
- endpoint: population_reform
  event: endpoint_call
  time: 0.00014591217041015625
- endpoint: population_reform
  event: endpoint_call
  time: 0.00014400482177734375
- endpoint: population_reform
  error: Missing attribute 'value_type' in definition of variable 'spm_unit_benefits'.
  event: task_error
  full_trace: "Traceback (most recent call last):\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/web_server/cache.py\"\
    , line 169, in execute\n    result = self.task(params=self.params, **self.kwargs)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/country/country.py\"\
    , line 341, in population_reform\n    baseline, reformed, self.results_config\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/policyengine/impact/population/charts/decile.py\"\
    , line 60, in decile_chart\n    config.household_net_income_variable\n  File \"\
    /Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/household/income/spm_unit/spm_unit_net_income.py\"\
    , line 14, in formula\n    taxes = spm_unit(\"spm_unit_taxes\", period)\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/household/expense/tax/spm_unit_federal_tax.py\"\
    , line 12, in formula\n    return sum_contained_tax_units(\"income_tax\", spm_unit,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/tools/general.py\"\
    , line 27, in sum_contained_tax_units\n    values = tax_unit(var, period)\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 685, in _run_formula\n    array = formula(population, period)\n  File \"\
    /Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/tools/general.py\"\
    , line 46, in <lambda>\n    variable_cls.__name__, period\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/tax/federal_income/income_tax.py\"\
    , line 14, in formula\n    \"income_tax_before_refundable_credits\", period\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/tax/federal_income/income_tax_before_refundable_credits.py\"\
    , line 13, in formula\n    income_tax_bc = tax_unit(\"income_tax_before_credits\"\
    , period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 685, in _run_formula\n    array = formula(population, period)\n  File \"\
    /Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/tools/general.py\"\
    , line 46, in <lambda>\n    variable_cls.__name__, period\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 685, in _run_formula\n    array = formula(population, period)\n  File \"\
    /Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/tools/general.py\"\
    , line 46, in <lambda>\n    variable_cls.__name__, period\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/tax/federal_income/before_credits/income_tax_main_rates.py\"\
    , line 25, in formula\n    full_taxable_income = tax_unit(\"taxable_income\",\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/income/taxable_income/taxable_income.py\"\
    , line 13, in formula\n    deductions = tax_unit(\"taxable_income_deductions\"\
    , period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/income/taxable_income/deductions/taxable_income_deductions.py\"\
    , line 14, in formula\n    \"taxable_income_deductions_if_itemizing\", period\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/income/taxable_income/deductions/itemizing/salt_deduction.py\"\
    , line 17, in formula\n    [\"state_and_local_sales_or_income_tax\", \"real_estate_taxes\"\
    ],\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/taxcalc/deductions/itemized/state_and_local_sales_or_income_tax.py\"\
    , line 14, in formula\n    tax_unit, period, [\"state_income_tax\", \"local_income_tax\"\
    ]\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/states/ny/tax/income/ny_income_tax.py\"\
    , line 19, in formula\n    refundable_credits = add(tax_unit, period, refundable)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/states/ny/tax/income/credits/ctc/ny_ctc.py\"\
    , line 27, in formula\n    federal_match = tax_unit(\"ny_federal_ctc\", period)\
    \ * p.amount.percent\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 434, in sum_of_variables\n    return add(entity, period, variable_names)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 226, in add\n    entity, period, variables, agg_func=\"add\", options=options\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/commons/formulas.py\"\
    , line 181, in for_each_variable\n    values = entity(variable, period, options=options)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/states/ny/tax/income/credits/ctc/ny_federal_actc.py\"\
    , line 67, in formula\n    limiting_tax = tax_unit(\"ctc_limiting_tax_liability\"\
    , period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/populations/population.py\"\
    , line 135, in __call__\n    variable_name, period, **calculate_kwargs\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/microsimulation.py\"\
    , line 54, in calculate\n    values = super().calculate(variable_name, period,\
    \ map_to, decode_enums)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 320, in calculate\n    result = self._calculate(variable_name, period)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 470, in _calculate\n    array = self._run_formula(variable, population,\
    \ period)\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 687, in _run_formula\n    array = formula(population, period, parameters_at)\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_us/variables/gov/irs/credits/ctc/ctc_limiting_tax_liability.py\"\
    , line 14, in formula\n    no_salt_branch = simulation.get_branch(\"no_salt\"\
    )\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 984, in get_branch\n    branch = self.clone()\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/simulations/simulation.py\"\
    , line 966, in clone\n    new.tax_benefit_system = self.tax_benefit_system.clone()\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/taxbenefitsystems/tax_benefit_system.py\"\
    , line 613, in clone\n    for variable_name, variable in self.variables.items()\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/taxbenefitsystems/tax_benefit_system.py\"\
    , line 613, in <dictcomp>\n    for variable_name, variable in self.variables.items()\n\
    \  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/variables/variable.py\"\
    , line 515, in clone\n    clone = self.__class__()\n  File \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/variables/variable.py\"\
    , line 136, in __init__\n    allowed_values=config.VALUE_TYPES.keys(),\n  File\
    \ \"/Users/ben/Desktop/01_Python/cgo/filcalman/venv/lib/python3.7/site-packages/policyengine_core/variables/variable.py\"\
    , line 279, in set\n    attribute_name, self.name\nValueError: Missing attribute\
    \ 'value_type' in definition of variable 'spm_unit_benefits'.\n"
  time: '2022-12-22T16:01:47.292171'
- cache_key: population_reform-e3596c461e3ef507dd03717bfa13c771-1.126.1
  endpoint: population_reform
  event: endpoint_thread_completion
  time: 11.315266132354736
- endpoint: population_reform
  event: endpoint_call
  time: 0.00028204917907714844
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T16:13:16.572472'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T16:13:54.575470'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T16:14:24.422114'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T16:14:51.149171'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T16:15:57.479637'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T16:16:26.644441'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T16:16:55.419885'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T16:17:14.795404'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T16:23:07.233374'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T16:23:36.913155'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-22T16:24:52.615476'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-22T16:25:46.451863'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T09:00:00.447416'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T09:04:33.943939'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T09:05:10.098069'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T09:07:00.188615'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T09:07:17.220614'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T09:11:28.230250'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T09:11:45.604159'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T09:13:36.378022'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T09:13:59.522675'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T09:19:38.363068'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T09:20:03.097511'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T09:20:41.065487'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T09:20:57.941618'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T09:26:29.583808'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T09:27:04.338366'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T15:46:41.647898'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T15:47:04.663738'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T15:48:03.239025'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T15:48:23.814951'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-23T15:50:13.225896'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-23T15:50:30.572556'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-26T12:59:49.846660'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-26T13:00:17.439390'
- event: general_server_message
  message: Initialising server.
  time: '2022-12-26T13:00:50.937919'
- event: general_server_message
  message: Initialisation complete.
  time: '2022-12-26T13:01:28.383257'
